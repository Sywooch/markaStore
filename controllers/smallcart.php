<?php
//???? ?????????? ????????? ???????
	class Lib_SmalCart
	{
		protected static $instance; //(????????? ???????) ???????? ?? ???????? ????? new Singleton
		private function __construct() {}
		public static function getInstance() //?????????? ???????????? ????????? ??????
		{
			if (!is_object(self::$instance)) self::$instance = new self;
			return self::$instance;
		}

		public function  setCartData() // ?????????? ? cokie ??????? ????????? ??????? ? ??????????????? ????
		{
			$cart_content = serialize($_SESSION['cart']); // ???????????  ?????? ??????? ?? ?????? ? ??????
			SetCookie("cart", $cart_content,time()+3600*24*365); //?????????? ??????????????? ?????? ? ????, ?????? 1 ???
		}

		protected function  getCokieCart()// ???????? ?????? ?? ????? ????? ? ??????
		{
			if(isset($_COOKIE)){ // ???? ???? ??????????
				$_SESSION['cart']=unserialize($_COOKIE['cart']); //????????????? ?????? ? ??????
				return  true;
			}

			return  false;
		}

		public function  getCartData() //???????? ?????? ?? ?? (????) ? ????????? ????? ????????? ???????????, ? ????? ??????????
		{
			$res['cart_count']=0; //?????????? ????? ? ???????
			$res['cart_price']=0; //????? ?????????

			
			return  $res;
		}
	}
	/*
	  ?????: ?????? ????.
	  e-mail: mark-avdeev@mail.ru
	  blog: lifeexample.ru
	*/
?>